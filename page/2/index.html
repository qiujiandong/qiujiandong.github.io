<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>小裘控制系统</title><meta name="author" content="裘剑东"><meta name="copyright" content="裘剑东"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="小裘控制系统">
<meta property="og:url" content="http://qjdxmy.com/page/2/">
<meta property="og:site_name" content="小裘控制系统">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://qjdxmy.com/img/me.jpg">
<meta property="article:author" content="裘剑东">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://qjdxmy.com/img/me.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://qjdxmy.com/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小裘控制系统',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-01-01 23:06:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/me.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">84</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/download/"><i class="fa-fw fas fa-download"></i><span> 下载</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/resume/"><i class="fa-fw fas fa-heart"></i><span> 个人简历</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/cover.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小裘控制系统</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/download/"><i class="fa-fw fas fa-download"></i><span> 下载</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/resume/"><i class="fa-fw fas fa-heart"></i><span> 个人简历</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">小裘控制系统</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/qiujiandong" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1335521934@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/01/19/summary/" title="长风破浪会有时"><img class="post_bg" src="/2024/01/19/summary/wrapped2023.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="长风破浪会有时"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/19/summary/" title="长风破浪会有时">长风破浪会有时</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-19T13:15:25.000Z" title="发表于 2024-01-19 21:15:25">2024-01-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%97%A5%E5%B8%B8/">日常</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%97%A5%E5%B8%B8/">日常</a></span></div><div class="content">工作半年了，实际的工作体验跟当初想象的好像是不太一样。感觉还是在学校读书好啊
方向？
半年没更了，偶尔也有些网友私信问我DSP相关的问题，但是我现在也没有继续做DSP了，很多也都忘了，所以可能帮不上什么忙，也就都没有回复了。在这里统一回复一下，抱歉抱歉T_T。
在本科的时候，我喜欢做硬件，跟一堆电子元件打交道，追求尽可能用一些小封装的器件设计精巧的电路。做比赛做的大多也都是通信方向，但是一直都没有深入去理解，浅尝辄止，想着尽可能接触一些新的东西。读研之后开始转方向了，类似于嵌入式软件的开发（也不知道是不是正经的嵌软），写C/C++，也写一些Verilog，开发DSP和FPGA。感觉也是一种不上不下的状态，C/C++打不过真正做软件的，Verilog也没有做数字IC的能打。算法能力也不用说，仅限于刷过几道题的水平。所以读了几年书下来，一直都没有一种可以拿得出手的特长。参加工作之后做的是一般的C/C++开发工作，但感觉也没有很大的兴趣，对未来的方向有点迷茫了。
我觉得能够越早找准自己的定位，自己的方向，就可以走越少的弯路。关于寻找自己的方向，我还在路上……
学习
学习是一个很宽泛的概念，学 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/06/05/remote-vivado/" title="Vivado远程开发探索"><img class="post_bg" src="/2023/06/05/remote-vivado/2023-06-15-16-22-13.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vivado远程开发探索"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/06/05/remote-vivado/" title="Vivado远程开发探索">Vivado远程开发探索</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-06-05T09:52:47.000Z" title="发表于 2023-06-05 17:52:47">2023-06-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Vivado/">Vivado</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Vivado/">Vivado</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/ssh/">ssh</a></span></div><div class="content">  平时主要用轻薄本办公，但是有时候又需要用Vivado做一些开发的工作，就感觉生产力不够。如果能在远程的高性能服务器上跑Vivado综合实现就好了。前段时间用ubuntu下安装的Vivado发现有一个Remote Host的设置。所以就准备折腾一下这个。
WSL
  WSL的安装看官网的文档就好了。最近摸索了一段时间后感觉，Linux系统的桌面并没有很大的作用。一般只需要应用程序有一个可视化的图形窗口就行。切换目录浏览文件，启动应用程序都可以通过命令行快速实现。因此安装完WSL之后并不太需要安装一个“桌面”，而只要能够显示某些应用软件的图形界面即可。
  图形界面显示用Xserver实现，我在widows端采用xcvsrc作为服务端。在WSL中运行的应用程序都可以转发到widnows主机上显示，这一转发的功能需要设置转发显示的地址，由变量DSIPLAY控制显示的地址和端口。某些远程SSH登录的软件可以指定这一地址，如果不指定的话也需要在.profile或.bashrc中确定DISPLAY变量。
Vivado安装
  Vivado的安装过程可以看ug973，在没有图形界面的情况下可以用 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/29/kcf-impl-verify/" title="基于国产器件的KCF跟踪算法实现与验证"><img class="post_bg" src="/2023/05/29/kcf-impl-verify/2023-06-04-20-52-57.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基于国产器件的KCF跟踪算法实现与验证"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/29/kcf-impl-verify/" title="基于国产器件的KCF跟踪算法实现与验证">基于国产器件的KCF跟踪算法实现与验证</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-29T12:21:26.000Z" title="发表于 2023-05-29 20:21:26">2023-05-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/">数字逻辑</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E9%AB%98%E9%80%9F%E9%93%BE%E8%B7%AF/">高速链路</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E9%AB%98%E9%80%9F%E9%93%BE%E8%B7%AF/PCIe/">PCIe</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/Linux/">Linux</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/">数字逻辑</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%AB%98%E9%80%9F%E9%93%BE%E8%B7%AF-PCIe/">高速链路,PCIe</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Linux/">Linux</a></span></div><div class="content">  在国产的FT-M6678 DSP上实现KCF算法是我研究生期间的主要工作，KCF算法的原理与实现已经在之前的文章以及我的Gitee仓库中有部分介绍。这里主要介绍DSP与上位机通信的方式，以及XDMA Linux驱动的使用。具体的设计细节可以看我的毕业设计补充材料。
SRIO与PCIe桥接器
  如果只考虑实现DSP与上位机通信，设计硬件的时候就完全可以将DSP的PCIe接口与上位机连接。但我所用的硬件平台实际上是DSP与FPGA通过SRIO连接，FPGA与上位机通过PCIe连接，所以我就在FPGA里做了一个接口转换的功能。实现数据在SRIO接口与PCIe接口之间的传输，这一设计我称之为“SRIO与PCIe桥接器”。

  图中的SRIO IP对外与DSP采用SRIO链路互连，XDMA对外提供PCIe接口与上位机互连。桥接器提供了AXI4-Lite slave接口，可以通过配置寄存器来控制它工作。XDMA在实例化的时候勾选上AXI4-Lite接口，上位机就可以直接通过Lite接口控制桥接器；DSP想要控制桥接器工作可以通过EMIF总线接口实现。

  我另外设计了EMIF与AXI4- ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/04/24/how2write/" title="如何写好学位论文"><img class="post_bg" src="/2023/04/24/how2write/2023-04-24-14-48-07.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何写好学位论文"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/24/how2write/" title="如何写好学位论文">如何写好学位论文</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-04-24T01:38:05.000Z" title="发表于 2023-04-24 09:38:05">2023-04-24</time></span></div><div class="content">  昨天刚提交了学位论文，今天准备来总结一下一些常用的Word写作技巧。
样式与多级列表
  论文一般都会对章节条目的标题、参考文献、表格内容、题注的字体字号、行间距、段落间距等作出规定。为每一类文字设置一种样式，在写的时候直接应用样式可以方便地对全文的格式进行管理。


  修改样式的界面可以对格式做一些简单的设置，但是一般具体的设置都需要点左下角的“格式”，然后选择要设置的内容，有更多的设置选项。最主要的是字体和段落的设置。要实现自动地对标题编号不是在这里的“编号”选项里设置的，这里的编号是局部的编号。章节标题的编号需要通过多级列表来实现。在多级列表栏目里选择“定义新的多级列表”

  设置的时候需要点开左下角的“更多”，单击要修改的级别，然后看右边将这个级别链接到具体的标题样式。下面还可以对编号以及缩进进行具体的设置。

题注与交叉引用

  在引用的菜单栏中有“插入题注”和“交叉引用”的选项。主要用来给图片和表格一个标签，它会在光标所在位置插入。编号选项里可以设置图片或表格编号的形式，比如下图中的就是为第二章中的第一张图插入题注。有时候插入了新的图片或者删掉了图片，题注需要更新 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/18/emif2axil/" title="EMIF转AXI4-Lite接口"><img class="post_bg" src="/2023/02/18/emif2axil/2023-02-18-22-09-53.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="EMIF转AXI4-Lite接口"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/18/emif2axil/" title="EMIF转AXI4-Lite接口">EMIF转AXI4-Lite接口</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-18T13:48:25.000Z" title="发表于 2023-02-18 21:48:25">2023-02-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/DSP%E5%BC%80%E5%8F%91/">DSP开发</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E5%AD%97%E9%80%BB%E8%BE%91/">数字逻辑</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/EMIF/">EMIF</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/AXI/">AXI</a></span></div><div class="content">  最近想用DSP对FPGA里的IP进行配置，感觉没有什么特别好的办法。如果能像Zynq一样直接有能够配置外设的AXI-Lite接口就好了。EMIF是DSP的外部存储器访问接口，支持对存储器的同步或异步访问。在我现有的条件下，利用EMIF接口配置FPGA内部的寄存器是一个可行的选择。Gitee链接
整体方案
  EMIF接口相比于AXI-Lite少了握手的过程。不能仅通过简单的同步/异步访问完成寄存器的读写。整体方案如下图：


写命令需要缓存地址和数据，因为不知道AW和W通道什么时候才会握手。
读命令需要有两步才能完成，首先缓存地址，将地址发送到AR通道，等R通道返回数据之后，DSP再次读数据才能得到真正的结果。
缓存读命令的地址可以采用与缓存写地址用的不同的FIFO，但我采用的方案是读写地址都用同一个FIFO缓存，并且读命令的第一步是向要读的地址写任意数据（这个数据被丢弃），用来缓存写地址。
读写地址的区分额外用了一根地址线，因此DSP在FPGA上实际的访存空间只有逻辑地址的一半。

EMIF地址映射
  FT-M6678的EMIF每个片选有64MB的空间，而一般外设的控制寄存器可 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/05/kcf-double/" title="基于多核DSP的双目标KCF跟踪实现"><img class="post_bg" src="/2023/02/05/kcf-double/2023-02-05-20-11-38.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基于多核DSP的双目标KCF跟踪实现"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/05/kcf-double/" title="基于多核DSP的双目标KCF跟踪实现">基于多核DSP的双目标KCF跟踪实现</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-04T20:31:07.000Z" title="发表于 2023-02-05 04:31:07">2023-02-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/DSP%E5%BC%80%E5%8F%91/">DSP开发</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/DSP/">DSP</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%A4%9A%E6%A0%B8/">多核</a></span></div><div class="content">  KCF目标跟踪算法在DSP上实现的具体细节我已写了一篇文章，已被《红外技术》期刊录用，应该不久之后会见刊。文中主要介绍如何用单核DSP和硬件FFT加速器实现KCF算法，并满足实时性需求。
  后来为了用KCF跟踪算法同时跟踪两个不同的目标，就有了这篇文章所介绍的工作，本文主要就是分享一下我的设计过程，同时也作为一个多核DSP工程的示例（Gitee链接）。多核工程在实现的过程中主要要解决的就是不同核之间的同步的问题和共享资源的互斥访问的问题。
软件整体结构

  多核程序的设计首先可以确定软件的整体结构，可以是主从式，也可以是流水线的形式。最好能平衡每个核的工作量，合理地安排每个核的任务。我这次采用的是类似主从式的结构，软件整体框图如上图所示。主要实现以下功能：

Core0负责接收图像数据，采用乒乓缓存的方式接收，在处理当前帧的同时可以同时接收新的数据。Core0可以按照一定的帧频接收图像，也可以主动向PC发出接收图像的请求。
Core0通过消息队列（MsgQ）向Core1和Core2发送命令，执行KCF跟踪算法，Core1和Core2分别将两个目标框的左上角坐标和长宽(x,y,w ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/17/multi-core/" title="用于多核DSP开发的核间通信"><img class="post_bg" src="/2023/01/17/multi-core/2023-01-19-22-01-50.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="用于多核DSP开发的核间通信"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/17/multi-core/" title="用于多核DSP开发的核间通信">用于多核DSP开发的核间通信</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-01-17T05:01:29.000Z" title="发表于 2023-01-17 13:01:29">2023-01-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/DSP%E5%BC%80%E5%8F%91/">DSP开发</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/DSP/">DSP</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%A4%9A%E6%A0%B8/">多核</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E6%A0%B8%E9%97%B4%E9%80%9A%E4%BF%A1/">核间通信</a></span></div><div class="content">  TI的多核DSP以TMS320C6678为例，它是多核同构的处理器，内部是8个相同的C66x CorePac。对其中任意一个核的开发就和单核DSP开发的流程是类似的。
  但是如果仅仅只是每个核独立开发，那么很难体现出多核的优势。要充分发挥多核处理器的性能，势必需要涉及核间通信，另外还有许多共享资源的分配的问题需要考虑。
  IPC（Inter-Processor Communication）是RTSC体系下的一个Package，专门用来实现不同核之间的通信。IPC可以在这里下载。3.0版本以后的IPC会直接包含在对应的SDK里面，如果要用更早的版本，也可以再下载，只是要注意最好对上XDCTools和SYS/BIOS的版本。



IPC 版本
3.50.04
1.25.03




XDCTools
3.55.02
3.24.05


SYS/BIOS
6.76.03
6.34.04



  3.50版本的IPC是包含在C667x的PDK里的，但我在安装的时候XDCTools安装失败了，可能是CCS版本比较老的原因，所以我就用的是1.25版本的IPC。虽然这两个版本号有很大差别 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/11/01/kalman-filter/" title="卡尔曼滤波器"><img class="post_bg" src="/2022/11/01/kalman-filter/2023-02-12-20-47-54.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="卡尔曼滤波器"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/11/01/kalman-filter/" title="卡尔曼滤波器">卡尔曼滤波器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-01T07:26:03.000Z" title="发表于 2022-11-01 15:26:03">2022-11-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/DSP/">DSP</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/KF/">KF</a></span></div><div class="content">推荐资料

KalmanFilter.NET
Understanding Kalman Filters
卡尔曼滤波与组合导航原理


“If you can’t explain it simply, you don’t understand it well enough.” —— Albert Einstein

  第一个网站是我认为的讲卡尔曼滤波讲得最好的资料！“如果你不能用简单的话把问题解释清楚，那就是理解得不够”。作者就是能用例子把问题讲得很清楚的那种人。上面举的例子和介绍的思路都非常适合初学者，即使是什么都不懂的人也能非常快速地理解。只是后面还有一些内容比如EKF、UKF等作者还没更新上去，目前只有基础的卡尔曼滤波。
  第二个链接是MathWorks给出的关于卡尔曼滤波的教学视频，还有一个配套的关于单摆的实验，可以一边动手操作一边学习，感觉挺有意思的。
  第三个链接是B站上的西北工业大学的严恭敏老师上课的录屏，严老师还有一本书《捷联惯导算法与组合导航原理》，相当于是课本，推荐想要系统学习的同学去看这个。
基础
  在正式开始介绍之前，首先得有一些基础的概念。
随机变量的期 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/30/the-best-lss/" title="最佳的最小二乘解"><img class="post_bg" src="/2022/10/30/the-best-lss/2022-10-30-18-29-53.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="最佳的最小二乘解"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/30/the-best-lss/" title="最佳的最小二乘解">最佳的最小二乘解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-30T11:05:50.000Z" title="发表于 2022-10-30 19:05:50">2022-10-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E6%9C%80%E5%B0%8F%E4%BA%8C%E4%B9%98%E6%B3%95/">最小二乘法</a></span></div><div class="content">  本文是关于最小二乘问题的一些总结。
问题引入
  最小二乘法最常见于曲线拟合的问题。比如有一组样本点(x1,y1)(x_1, y_1)(x1​,y1​), (x2,y2)(x_2, y_2)(x2​,y2​), (x3,y3)(x_3, y_3)(x3​,y3​), …, (xm,ym)(x_m, y_m)(xm​,ym​)。每个样本点的xxx都是n-1维列向量。然后根据用户定义的模型可以列出m个方程组成的方程组来求解模型中的参数。
  以x∈C3x \in { {\rm{C} }^3}x∈C3为例，每个样本是3维的数据，共5组样本数据，列出一次多项式方程组，求解n个参数a,b,c,da, b, c, da,b,c,d：
{ax11+bx12+cx13+d=y1ax21+bx22+cx23+d=y2ax31+bx32+cx33+d=y3ax41+bx42+cx43+d=y4ax51+bx52+cx53+d=y5\left\{ \begin{array}{l}
ax_{11} + bx_{12} + c{x_{13} } + d = {y_1}\\
ax_{21} + bx_{22} ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/07/bmprw/" title="C/C++读写BMP文件"><img class="post_bg" src="/2022/10/07/bmprw/2022-10-07-11-17-27.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C/C++读写BMP文件"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/07/bmprw/" title="C/C++读写BMP文件">C/C++读写BMP文件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-07T01:38:41.000Z" title="发表于 2022-10-07 09:38:41">2022-10-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%BD%AF%E4%BB%B6/">嵌入式软件</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/C-C/">C/C++</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/bmp/">bmp</a></span></div><div class="content">BMP文件格式
  读写BMP格式的图片需要首先了解BMP图片的存储格式。可以参考维基百科上的介绍。
  BMP文件主要有文件头（File Header）、信息头（DIB Header）、调色板（Color Table）和像素阵列（Pixel Array）组成。大部分情况下我们需要用的就是每个像素的数据。
  可以从图中观察到，文件头中的File Offset to PixelArray可以直接得知Pixel Array的位置。信息头中有图像的宽、高和位深度的信息。像素阵列中的数据是一行一行组织的，每行的长度都是4字节的整数倍，如果一行的像素大小不是4字节的整数倍，还会再后面加Padding。

BMP读写
  了解了BMP文件的格式后，就可以据此编写相应的读写函数了。我准备写两个函数分别负责读和写。如下面的头文件所示：
12345678910111213141516171819202122232425262728293031323334353637383940414243/** * @file bmpRw.h * @author Jiandong Qiu (1335521934@qq ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/#content-inner">9</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/me.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">裘剑东</div><div class="author-info__description">芯来科技基础软件开发工程师，嵌入式开发爱好者</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">84</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/qiujiandong"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/qiujiandong" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1335521934@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">最好的程序员做自己的硬件！</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/01/summary-2024/" title="2024年终总结"><img src="/2025/01/01/summary-2024/2025-01-01-21-54-27.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2024年终总结"/></a><div class="content"><a class="title" href="/2025/01/01/summary-2024/" title="2024年终总结">2024年终总结</a><time datetime="2025-01-01T09:19:27.000Z" title="发表于 2025-01-01 17:19:27">2025-01-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/17/learn-cuda/" title="CUDA优化入门"><img src="/2024/04/17/learn-cuda/2024-04-16-15-52-38.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CUDA优化入门"/></a><div class="content"><a class="title" href="/2024/04/17/learn-cuda/" title="CUDA优化入门">CUDA优化入门</a><time datetime="2024-04-17T12:00:00.000Z" title="发表于 2024-04-17 20:00:00">2024-04-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/04/04/bipartite-match/" title="二分图的判断与匹配"><img src="/2024/04/04/bipartite-match/2024-04-05-00-11-55.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="二分图的判断与匹配"/></a><div class="content"><a class="title" href="/2024/04/04/bipartite-match/" title="二分图的判断与匹配">二分图的判断与匹配</a><time datetime="2024-04-04T13:43:47.000Z" title="发表于 2024-04-04 21:43:47">2024-04-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/19/summary/" title="长风破浪会有时"><img src="/2024/01/19/summary/wrapped2023.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="长风破浪会有时"/></a><div class="content"><a class="title" href="/2024/01/19/summary/" title="长风破浪会有时">长风破浪会有时</a><time datetime="2024-01-19T13:15:25.000Z" title="发表于 2024-01-19 21:15:25">2024-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/05/remote-vivado/" title="Vivado远程开发探索"><img src="/2023/06/05/remote-vivado/2023-06-15-16-22-13.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vivado远程开发探索"/></a><div class="content"><a class="title" href="/2023/06/05/remote-vivado/" title="Vivado远程开发探索">Vivado远程开发探索</a><time datetime="2023-06-05T09:52:47.000Z" title="发表于 2023-06-05 17:52:47">2023-06-05</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/CUDA/"><span class="card-category-list-name">CUDA</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DSP%E5%BC%80%E5%8F%91/"><span class="card-category-list-name">DSP开发</span><span class="card-category-list-count">27</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DSP%E5%BC%80%E5%8F%91/C6455/"><span class="card-category-list-name">C6455</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DSP%E5%BC%80%E5%8F%91/M6678/"><span class="card-category-list-name">M6678</span><span class="card-category-list-count">8</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/NUEDC2021H/"><span class="card-category-list-name">NUEDC2021H</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Vivado/"><span class="card-category-list-name">Vivado</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/summary/"><span class="card-category-list-name">summary</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/6455/" style="font-size: 1.43em; color: #99a6b9">6455</a> <a href="/tags/6678/" style="font-size: 1.37em; color: #99a4b2">6678</a> <a href="/tags/ABI/" style="font-size: 1.1em; color: #999">ABI</a> <a href="/tags/ADC/" style="font-size: 1.1em; color: #999">ADC</a> <a href="/tags/ANN/" style="font-size: 1.1em; color: #999">ANN</a> <a href="/tags/AXI/" style="font-size: 1.17em; color: #999c9f">AXI</a> <a href="/tags/C/" style="font-size: 1.17em; color: #999c9f">C++</a> <a href="/tags/C-C/" style="font-size: 1.17em; color: #999c9f">C/C++</a> <a href="/tags/CCS/" style="font-size: 1.17em; color: #999c9f">CCS</a> <a href="/tags/CMake/" style="font-size: 1.1em; color: #999">CMake</a> <a href="/tags/CNN/" style="font-size: 1.1em; color: #999">CNN</a> <a href="/tags/CSL/" style="font-size: 1.1em; color: #999">CSL</a> <a href="/tags/CUDA/" style="font-size: 1.1em; color: #999">CUDA</a> <a href="/tags/CubeMX/" style="font-size: 1.1em; color: #999">CubeMX</a> <a href="/tags/DDR/" style="font-size: 1.1em; color: #999">DDR</a> <a href="/tags/DFT/" style="font-size: 1.1em; color: #999">DFT</a> <a href="/tags/DMA/" style="font-size: 1.17em; color: #999c9f">DMA</a> <a href="/tags/DSP/" style="font-size: 1.5em; color: #99a9bf">DSP</a> <a href="/tags/EDMA/" style="font-size: 1.17em; color: #999c9f">EDMA</a> <a href="/tags/EMCV/" style="font-size: 1.1em; color: #999">EMCV</a> <a href="/tags/EMIF/" style="font-size: 1.17em; color: #999c9f">EMIF</a> <a href="/tags/ESI/" style="font-size: 1.1em; color: #999">ESI</a> <a href="/tags/Eclipse/" style="font-size: 1.1em; color: #999">Eclipse</a> <a href="/tags/FFT/" style="font-size: 1.17em; color: #999c9f">FFT</a> <a href="/tags/FPGA/" style="font-size: 1.23em; color: #999ea6">FPGA</a> <a href="/tags/Flash/" style="font-size: 1.1em; color: #999">Flash</a> <a href="/tags/FreeRTOS/" style="font-size: 1.1em; color: #999">FreeRTOS</a> <a href="/tags/GPIO/" style="font-size: 1.1em; color: #999">GPIO</a> <a href="/tags/Git/" style="font-size: 1.1em; color: #999">Git</a> <a href="/tags/HOG/" style="font-size: 1.1em; color: #999">HOG</a> <a href="/tags/IIC/" style="font-size: 1.1em; color: #999">IIC</a> <a href="/tags/KCF/" style="font-size: 1.23em; color: #999ea6">KCF</a> <a href="/tags/KF/" style="font-size: 1.1em; color: #999">KF</a> <a href="/tags/Linux/" style="font-size: 1.1em; color: #999">Linux</a> <a href="/tags/M6678/" style="font-size: 1.3em; color: #99a1ac">M6678</a> <a href="/tags/MIO/" style="font-size: 1.1em; color: #999">MIO</a> <a href="/tags/MOSSE/" style="font-size: 1.1em; color: #999">MOSSE</a> <a href="/tags/Modelsim/" style="font-size: 1.1em; color: #999">Modelsim</a> <a href="/tags/NAND-Flash/" style="font-size: 1.17em; color: #999c9f">NAND Flash</a> <a href="/tags/OpenMP/" style="font-size: 1.1em; color: #999">OpenMP</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">84</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2022-02-25T16:00:00.000Z"></div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-01-01T15:06:51.754Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By 裘剑东</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>